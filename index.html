<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <title>ğŸŒ¦ï¸ OSAMEâ€“RosniÄka</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    body {
      background-color: #f0f8ff;
      font-family: 'Segoe UI', sans-serif;
      color: #222;
      margin: 0;
      padding: 20px;
    }

    .box {
      margin: 20px 0;
      padding: 16px;
      border: 2px solid #00bfff;
      border-radius: 10px;
      background-color: #eef6ff;
      box-shadow: 0 0 8px rgba(0, 191, 255, 0.2);
    }

    h1, h2 {
      margin-top: 0;
    }

    #mapa-box {
      height: 400px;
      width: 100%;
    }

    @media (prefers-color-scheme: dark) {
      body {
        background-color: #111;
        color: #eee;
      }

      .box {
        background-color: #112233;
        border-color: #00bfff;
        color: #ccf;
        box-shadow: 0 0 8px rgba(0, 191, 255, 0.4);
      }
    }
  </style>
</head>
<body>

<h1>ğŸŒ¦ï¸ OSAMEâ€“RosniÄka: OrbitÃ¡lnÃ­ vÃ½dechovÃ½ panel</h1>

<!-- ğŸ§­ Poloha -->
<div id="lokace-box" class="box">
  <h2>ğŸ§­ Poloha</h2>
  <div>NaÄÃ­tÃ¡m lokaci...</div>
</div>

<!-- ğŸŒ¡ï¸ PoÄasÃ­ -->
<div id="pocasi-box" class="box">
  <h2>ğŸŒ¡ï¸ PoÄasÃ­</h2>
  <div>NaÄÃ­tÃ¡m aktuÃ¡lnÃ­ poÄasÃ­...</div>
</div>

<!-- ğŸ“… PÅ™edpovÄ›Ä -->
<div id="predpoved-box" class="box">
  <h2>ğŸ“… PÅ™edpovÄ›Ä</h2>
  <div>NaÄÃ­tÃ¡m vÃ½hled poÄasÃ­...</div>
</div>

<!-- ğŸ§¥ ObleÄenÃ­ -->
<div id="obleceni-box" class="box">
  <h2>ğŸ§¥ DoporuÄenÃ© obleÄenÃ­</h2>
  <div>NaÄÃ­tÃ¡m vÃ½bavu na den...</div>
</div>

<!-- ğŸ”® Horoskop -->
<div id="horoskop-box" class="box">
  <h2>ğŸ”® Horoskop</h2>
  <div>NaÄÃ­tÃ¡m dennÃ­ horoskop...</div>
</div>

<!-- ğŸŒ• Astronomie -->
<div id="astro-box" class="box">
  <h2>ğŸŒ• AstronomickÃ¡ data</h2>
  <div>NaÄÃ­tÃ¡m fÃ¡ze, vÃ½chody, zÃ¡pady...</div>
</div>

<!-- ğŸŒ Ekologie -->
<div id="eko-box" class="box">
  <h2>ğŸŒ EkologickÃ½ dopad</h2>
  <div>NaÄÃ­tÃ¡m environmentÃ¡lnÃ­ data...</div>
</div>

<!-- âš ï¸ VÃ½strahy -->
<div id="vystrhy-box" class="box">
  <h2>âš ï¸ VÃ½strahy</h2>
  <div>NaÄÃ­tÃ¡m meteorologickÃ© vÃ½strahy...</div>
</div>

<!-- ğŸŒ¬ï¸ RozptylovÃ© podmÃ­nky -->
<div id="rozptyl-box" class="box">
  <h2>ğŸŒ¬ï¸ RozptylovÃ© podmÃ­nky</h2>
  <div>NaÄÃ­tÃ¡m kvalitu ovzduÅ¡Ã­...</div>
</div>

<!-- ğŸŒ¾ Pyly a prach -->
<div id="pyly-box" class="box">
  <h2>ğŸŒ¾ Pyly a prach</h2>
  <div>NaÄÃ­tÃ¡m alergennÃ­ vÃ½dechy...</div>
</div>

<!-- ğŸ”‹ Energie znamenÃ­ -->
<div id="energie-box" class="box">
  <h2>ğŸ”‹ Energie znamenÃ­</h2>
  <div>NaÄÃ­tÃ¡m astrologickou sÃ­lu...</div>
</div>

<!-- ğŸ—ºï¸ Mapa -->
<div id="mapa-box" class="box">
  <h2>ğŸ—ºï¸ Mapa</h2>
  <div>NaÄÃ­tÃ¡m mapu a smÄ›r pohledu...</div>
</div>

<!-- ğŸ“Š Vizualizace -->
<div id="vizualizace-box" class="box">
  <h2>ğŸ“Š Vizualizace</h2>
  <div>NaÄÃ­tÃ¡m vrstvy a jevy...</div>
</div>

<!-- ğŸ‘¨â€ğŸ’» Footer -->
<div id="footer-box" class="box">
  <p>ğŸ‘¨â€ğŸ’» VytvoÅ™il student s otevÅ™enÃ½m zdrojovÃ½m kÃ³dem OS Aplet ME-AI s modulem OSAMEâ€“RosniÄka</p>
</div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script type="module">
  import { zjistiPolohu } from './modules/geo_detect.js';
  import { ziskejPocasi } from './modules/load_weather.js';
  import { ziskejPredpoved } from './modules/prediktor.js';
  import { doporucObleceni } from './modules/obleceni.js';
  import { vypocitejHoroskop } from './modules/horoskop.js';
  import { ziskejAstronomii } from './modules/astro_data.js';
  import { vypocetEkologickehoDopadu } from './modules/eco_impact.js';
  import { vykresliMapu } from './modules/mapa.js';
  import { ziskejVizualizaci } from './modules/visualizace.js';

  const { lat, lon, smer } = await zjistiPolohu();

  const pocasi = await ziskejPocasi(lat, lon);
  const predpoved = await ziskejPredpoved(lat, lon);
  const obleceni = doporucObleceni(pocasi);
  const horoskop = await vypocitejHoroskop();
  const astro = await ziskejAstronomii(lat, lon);
  const eko = await vypocetEkologickehoDopadu(pocasi);
  const vrstvy = await ziskejVizualizaci(lat, lon);

  document.getElementById("lokace-box").innerHTML = `
    <h2>ğŸ§­ Poloha</h2>
    <p>GPS: ${lat.toFixed(4)}, ${lon.toFixed(4)}</p>
  `;

  document.getElementById("pocasi-box").innerHTML = `
    <h2>ğŸŒ¡ï¸ PoÄasÃ­</h2>
    <p>Teplota: ${pocasi.teplota}Â°C</p>
    <p>PociÅ¥ovÃ¡ teplota: ${pocasi.pocitova}Â°C</p>
    <p>MinimÃ¡lnÃ­: ${pocasi.min}Â°C | MaximÃ¡lnÃ­: ${pocasi.max}Â°C</p>
    <p>Tlak: ${pocasi.tlak} hPa</p>
    <p>Vlhkost: ${pocasi.vlhkost}â€¯%</p>
    <p>Obloha: ${pocasi.popis} ${pocasi.ikona}</p>
  `;

  document.getElementById("predpoved-box").innerHTML = `
    <h2>ğŸ“… PÅ™edpovÄ›Ä</h2>
    <p>${predpoved}</p>
  `;

  document.getElementById("obleceni-box").innerHTML = `
    <h2>ğŸ§¥ DoporuÄenÃ© obleÄenÃ­</h2>
    <p>${obleceni}</p>
  `;

  document.getElementById("horoskop-box").innerHTML = `
    <h2>ğŸ”® Horoskop</h2>
    <p>${horoskop}</p>
  `;

  document.getElementById("astro-box").innerHTML = `
    <h2>ğŸŒ• AstronomickÃ¡ data</h2>
    <p>Slunce: VÃ½chod ${astro.sunrise}, ZÃ¡pad ${astro.sunset}</p>
    <p>MÄ›sÃ­c: FÃ¡ze ${astro.moon_phase}</p>
    <p>Azimut: ${astro.azimut}Â°, VÃ½Å¡ka: ${astro.altitude}Â°</p>
    <p>ZnamenÃ­: ${astro.znameni}</p>
  `;

  document.getElementById("eko-box").innerHTML = `
    <h2>ğŸŒ EkologickÃ½ dopad</h2>
    <p>Index: ${eko.index}</p>
    <p>${eko.komentar}</p>
  `;

  vykresliMapu({ lat, lon, smer });

  document.getElementById("vizualizace-box").innerHTML = `
    <h2>ğŸ“Š Vizualizace</h2>
    <p>Vrstva oblaÄnosti: ${vrstvy.clouds}</p>
    <p>SmÄ›r vÄ›tru: ${vrstvy.wind_dir}Â°, Rychlost: ${vrstvy.wind_speed} m/s</p>
    <p>VÃ½skyt jevÅ¯: ${vrstvy.extremes.join(', ')}</p>
  `;
</script>
</body>
</html>
